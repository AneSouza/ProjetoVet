<?xml version="1.0"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      >

    <ui:composition template="_template1.xhtml">

        <ui:define name="titulo">
            <title>Clínica Veterinária</title>
        </ui:define>

        <ui:define name="conteudo">
            <div class="container" >

                <div class="page-header">
                    <h:messages id="msg" class="fonteSansHelvetica alerta alert alert-danger"/> 

                </div>

                <font color="#000000">

                    <div class="col-sm-5" style="padding: 20px; background-color: #008B8B" >

                        <h:form>
                            <font color="#fff">
                                <h2 align="center"> Realize seu cadastro </h2>
                                <div class="form-group col-md-6">
                                    <B><h:outputText value="Nome" for="nome"/></B>
                                    <h:inputText id="nome"  class="form-control" value="#{pessoaController.pessoa.nome}"
                                                 required="true" requiredMessage="Nome obrigatório!">
                                        <f:ajax event ="blur" render = "msg"/>
                                    </h:inputText>
                                </div>


                                <div class="form-group col-md-6">
                                    <B><h:outputText value="CPF" for="cpf"/></B>
                                    <h:inputText id="cpf" value="#{pessoaController.pessoa.cpf}" 
                                                 validatorMessage="Entre com um CPF válido." class="form-control"
                                                 required="true" requiredMessage="CPF obrigatório!">
                                        <f:validateRegex pattern="([0-9]{2}[\.]?[0-9]{3}[\.]?[0-9]{3}[\/]?[0-9]{4}[-]?[0-9]{2})|([0-9]{3}[\.]?[0-9]{3}[\.]?[0-9]{3}[-]?[0-9]{2})"/>
                                        <f:ajax event="blur" render="msg"/>
                                    </h:inputText>
                                </div>


                                <div class="form-group col-md-6">
                                    <B><h:outputText value="Telefone" for="telefone"/></B>
                                    <h:inputText id="telefone"  class="form-control" value="#{pessoaController.pessoa.telefone}" 
                                                 pt:required="" required="true" requiredMessage="Telefone obrigatório!">
                                    </h:inputText>

                                </div>


                                <div class="form-group col-md-6">
                                    <B><h:outputText value="Cidade" for="cidade"/></B>
                                    <h:inputText id="cidade"  class="form-control" value="#{pessoaController.end.cidade}"
                                                 pt:placeholder="Ex.: Alterosa" 
                                                 pt:required=""/>
                                </div>

                                <div class="form-group col-md-12">
                                    <B><h:outputText value="E-mail" for="email"/></B>
                                    <h:inputText id="email"  class="form-control" value="#{pessoaController.pessoa.email}"
                                                 pt:type="email" pt:placeholder="Ex.: teste@teste.com" 
                                                 pt:required="" required="true" requiredMessage="Email obrigatório!"/>
                                </div>
                                <div class="form-group col-md-6">
                                    <B><h:outputText value="Login" for="login"/></B>
                                    <h:inputText id="login"  class="form-control" value="#{pessoaController.pessoa.login}"
                                                 required="true" requiredMessage="Login obrigatório!">
                                        <f:ajax event ="blur" render = "msg"/>
                                    </h:inputText>
                                </div>


                                <div class="form-group col-md-6">
                                    <B><h:outputText value="Senha" for="senha"/></B>
                                    <h:inputText id="senha"  class="form-control" value="#{pessoaController.pessoa.senha}"
                                                 pt:type="password" pt:placeholder="Máximo 15 caracteres" pt:maxlength="25"
                                                 required="true" requiredMessage="Senha obrigatória!">
                                        <f:ajax event ="blur" render = "msg"/>
                                    </h:inputText>
                                </div>



                                <h:commandButton type="submit" class="btn btn-success btn-block" value="Cadastrar" 
                                                 action="#{pessoaController.inserir}"/>


                            </font>
                        </h:form>
                        <!-- login abaixo do cadastrar -->
                        <br></br><br></br>

                        <h:form >
                            <font color="#fff">
                                <div class="form-group col-md-6">
                                    <h:outputLabel value="Login" for="login"/>
                                    <h:inputText id="login" 
                                                 value="#{loginController.user.login}" 
                                                 required="true" requiredMessage="Login obrigatório."
                                                 class="form-control"/>
                                    <h:message for="login"/>
                                </div>

                                <div class="form-group col-md-6">
                                    <h:outputLabel value="Senha" for="senha"/>
                                    <h:inputText id="senha" 
                                                 value="#{loginController.user.senha}" 
                                                 required="true" requiredMessage="Senha obrigatória."
                                                 class="form-control">
                                        <f:passThroughAttribute name="type" value="password"/>
                                    </h:inputText>
                                    <h:message for="senha"/>
                                </div>

                                <h:commandButton value="Login" class="btn btn-primary btn-block"
                                                 action="#{loginController.logar}" />
                            </font>
                        </h:form>



                    </div>
                </font>
            </div>
        </ui:define>

    </ui:composition>	    

</html>