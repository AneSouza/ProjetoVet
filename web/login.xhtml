<?xml version="1.0" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions">

    <ui:composition template="_template1.xhtml">

        <!-- Titulo da página -->
        <ui:define name="titulo_pagina">Clínica Admin</ui:define>

        <!-- Conteudo -->
        <ui:define name="conteudo">
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-users fa-lg mr-1"></i>Usuários
                </div>
                <div class="card-body">

                    <div class="mb-4">
                        <button type="button" class="btn btn-info" data-toggle="modal" data-target="#modalregistro">Novo usuário</button>
                    </div>

                    <!-- Modal -->

                    <div class="modal fade" id="modalregistro" tabindex="-1" role="dialog" aria-labelledby="Pessoa" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content">

                                <div class="modal-header navbar-dark bg-info">
                                    <h5 class="modal-title text-white" id="exampleModalCenterTitle">Pessoa</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span class="text-white" aria-hidden="true">x</span>
                                    </button>
                                </div>
                                <h:form id="formulario"> 
                                    <div class="modal-body">

                                        <div class="row">
                                            <div class="col">
                                                <h:messages id="msg-formulario" errorClass="alert alert-danger" infoClass="alert alert-success" warnClass="alert alert-warning"></h:messages>
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-group col-md-12">
                                                <h:outputLabel value="Nome" for="nome"/>
                                                <h:inputText id="nome" class="form-control" 
                                                             value="#{pessoaController.pessoa.nome}"
                                                             required="true" requiredMessage="Nome obrigatório.">
                                                    <f:ajax event="blur" render="msg-formulario"/> 
                                                </h:inputText>
                                            </div>
                                        </div>

                                        <!-- Linha -
                                        <div class="form-row">
                                            <div class="form-group col-md-6">
                                                <h:outputLabel value="CPF" for="cpf"/>
                                                <h:inputText id="cpf" class="form-control" 
                                                             value="#{pessoaController.pessoa.cpf}"
                                                             required="true" requiredMessage="CPF obrigatório.">
                                                    <f:ajax event="blur" render="msg-formulario"/> 
                                                </h:inputText>
                                            </div>


                                        </div>-->

                                        <!-- Linha -->
                                        <div class="form-row">
                                            <div class="form-group col-md-6">
                                                <h:outputLabel value="Telefone" for="telefone"/>
                                                <h:inputText id="cpf" class="form-control" 
                                                             value="#{pessoaController.pessoa.telefone}"
                                                             required="true" requiredMessage="Telefone obrigatório.">
                                                    <f:ajax event="blur" render="msg-formulario"/> 
                                                </h:inputText>

                                            </div>

                                            <div class="form-group col-md-6">
                                                <h:outputLabel value="Cidade" for="cidade"/>
                                                <h:inputText id="telefone" class="form-control" 
                                                             value="#{pessoaController.end.cidade}"
                                                             required="true" requiredMessage="Cidade obrigatória.">
                                                    <f:ajax event="blur" render="msg-formulario"/> 
                                                </h:inputText>
                                            </div>
                                        </div>



                                        <!-- Linha -->
                                        <div class="form-row">
                                            <div class="form-group col-md-12">
                                                <h:outputLabel value="E-mail" for="email"/>
                                                <h:inputText id="email" class="form-control" 
                                                             value="#{pessoaController.pessoa.email}"
                                                             required="true" requiredMessage="E-mail obrigatório.">
                                                    <f:ajax event="blur" render="msg-formulario"/> 
                                                </h:inputText>
                                            </div>
                                        </div>    

                                        <!-- Linha -->
                                        <div class="form-row">
                                            <div class="form-group col-md-12">
                                                <B><h:outputText value="Login" for="login"/></B>
                                                <h:inputText id="login"  class="form-control" value="#{pessoaController.pessoa.login}"
                                                             required="true" requiredMessage="Login obrigatório!">
                                                    <f:ajax event ="blur" render = "msg"/>
                                                </h:inputText>
                                            </div>
                                        </div>


                                        <div class="form-row">
                                            <div class="form-group col-md-12">
                                                <B><h:outputText value="Senha" for="senha"/></B>
                                                <h:inputText id="senha"  class="form-control" value="#{pessoaController.pessoa.senha}"
                                                            
                                                             required="true" requiredMessage="Senha obrigatória!">
                                                    <f:ajax event ="blur" render = "msg"/>
                                                </h:inputText>
                                            </div>
                                        </div>



                                    </div>

                                    <div class="modal-footer">
                                        <h:commandButton  value="Salvar" class="btn btn-success" action="#{pessoaController.inserir()}">
                                            <f:ajax execute="@form" render="@form :msg-formulario bancodedados modalregistro"/>
                                        </h:commandButton>
                                    </div>
                                </h:form>
                            </div>
                        </div>
                    </div>

                    <!-- Fim Modal -->                    

                    <!-- Registros 
                    <h:form id="bancodedados">
                        <p:dataTable value="#{pacienteController.listadeRegistros}"  var="paciente" emptyMessage="Nenhum registrado cadastrado" >

                            <p:column headerText="Nome completo">#{paciente.nome}</p:column>
                            <p:column headerText="CPF">#{paciente.cpf}</p:column>
                            <p:column headerText="Telefone">#{paciente.telefone}
                            </p:column>
                            <p:column  headerText="Ações">
                                <h:commandButton value="Editar" class="mr-2" action="#{pacienteController.carregar(paciente)}" onclick="$('#modalregistro').modal('show')">
                                    <f:ajax execute="@form" render="@form :modalregistro formulario"/>
                                </h:commandButton>
                                <h:commandButton value="Deletar" action="#{pacienteController.remover(paciente)}" onclick="return confirm('Deseja realmente deletar o registro selecionado?')"/>
                            </p:column>
                        </p:dataTable>
                    </h:form>  -->


                </div> 
            </div>
        </ui:define>

    </ui:composition>
</html>
